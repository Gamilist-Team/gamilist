# Gamilist - Render Deployment Guide

This guide will help you deploy Gamilist to Render.

## Prerequisites

1. A [Render account](https://render.com) (free tier works)
2. A [GitHub account](https://github.com)
3. Your Twitch Developer credentials (Client ID and Client Secret)
4. Your code pushed to a GitHub repository

## Step 1: Push Your Code to GitHub

If you haven't already, push your code to GitHub:

```bash
cd gamilist_code
git init
git add .
git commit -m "Initial commit"
git remote add origin YOUR_GITHUB_REPO_URL
git push -u origin main
```

## Step 2: Connect to Render

1. Go to [render.com](https://render.com) and sign in
2. Click **"New +"** button
3. Select **"Blueprint"**
4. Connect your GitHub repository
5. Select your `gamilist` repository
6. Render will detect the `render.yaml` file automatically

## Step 3: Configure Environment Variables

### For the Backend (`gamilist-api`):

After the blueprint is created, go to the backend service settings and add:

1. **TWITCH_CLIENT_ID**
   - Go to [Twitch Developer Console](https://dev.twitch.tv/console/apps)
   - Copy your Client ID
   - Paste into Render

2. **TWITCH_CLIENT_SECRET**
   - Copy your Client Secret from Twitch Developer Console
   - Paste into Render

3. **SESSION_SECRET** (auto-generated by Render)
   - This will be automatically generated
   - You can also set your own: any random string (e.g., `openssl rand -base64 32`)

4. **DATABASE_URL** (auto-configured)
   - Automatically set from the PostgreSQL database

5. **PORT**
   - Already set to `10000` in `render.yaml`

### For the Frontend (`gamilist-web`):

1. **VITE_API_URL**
   - Already set to `https://gamilist-api.onrender.com` in `render.yaml`
   - Update if your backend URL is different

## Step 4: Initialize the Database

Once your backend is deployed:

1. Get your backend URL (e.g., `https://gamilist-api.onrender.com`)

2. Reset the database (one-time setup):
   ```bash
   curl -X POST https://gamilist-api.onrender.com/api/reset
   ```

3. Check if it worked:
   ```bash
   curl https://gamilist-api.onrender.com/api/health
   ```

   You should see: `{"ok":true,"time":"..."}`

## Step 5: Update Frontend API URL (if needed)

If your backend URL is different from `https://gamilist-api.onrender.com`:

1. Go to your frontend service in Render
2. Update the `VITE_API_URL` environment variable
3. Trigger a manual redeploy

## Step 6: Test Your Deployment

1. Visit your frontend URL (e.g., `https://gamilist-web.onrender.com`)
2. Try logging in with test accounts:
   - Username: `rashad` / Password: `password123`
   - Username: `guest` / Password: `password123`
   - Username: `jing` / Password: `password123`
3. Test all features:
   - Browse games
   - Search games
   - Add games to your list
   - Write reviews
   - Create forum posts

## Step 7: Update README

Update your README.md with the deployed URL:

```markdown
ðŸ”— Link to deployed app: https://gamilist-web.onrender.com
```

## Troubleshooting

### Frontend shows "Failed to fetch"
- Check that `VITE_API_URL` points to your backend URL
- Make sure backend is running (green status in Render dashboard)

### Backend won't start
- Check logs in Render dashboard
- Verify all environment variables are set
- Make sure `DATABASE_URL` is connected

### Database is empty
- Run the reset endpoint: `curl -X POST https://YOUR-API-URL/api/reset`

### IGDB API not working
- Verify `TWITCH_CLIENT_ID` and `TWITCH_CLIENT_SECRET` are correct
- Check backend logs for authentication errors

## Free Tier Limitations

**Important Notes about Render Free Tier:**

1. **Services spin down after 15 minutes of inactivity**
   - First request after inactivity may take 30-60 seconds
   - Subsequent requests will be fast

2. **750 hours/month limit** (enough for continuous uptime)

3. **Database limited to 256 MB** (sufficient for this project)



